<%= simple_form_for([:admin,@product]) do |f| %>
  <%= f.error_notification %>

  <div class="attributes">
    <div class="split_content_left">
       <%= f.input :product_id %>
       <%= f.input :brand_name do %>
         <%= f.autocomplete_field :brand_name, autocomplete_brand_chinese_name_admin_brands_path,
                                  :id_element => '#product_brand_id'  %>
       <% end %>
       <%= f.input :brand_id, :as => :hidden  %>
       <%= f.input :unit %>
       <%= f.input :delivery_days %>
       <%= f.input :cost_bef_tax %>
       <%= f.input :model %>
       <%= f.input :color %>
       <%= f.input :barcode %>
       <%= f.input :manufacturer %>
       <%= f.input :shelf_life %>
       <%= f.input :wanrranty %>
       <%= f.input :origin %>
       <%= f.input :is_green do
        f.collection_radio :is_green, [['false', '否'], ['true', '是']],
                           :first, :second, :checked => 'false' end%>
       <%= f.input :assembling_fee_bef_tax %>
       <%= f.input :is_maintanable do
        f.collection_radio :is_maintanable, [['false', '否'], ['true', '是']],
                           :first, :second, :checked => 'false' end%>
       <%= f.input :maintenance_cost_aft_tax %>
       <%= f.input :installation_cost_bef_tax %>
    </div>
    <div class="split_content_right">
       <%= f.input :name %>
       <%= f.input :product_category_name do %>
         <%= f.autocomplete_field :product_category_name,
                                  autocomplete_product_category_name_admin_product_categories_path,
                                  :update_elements => {:id => '#product_product_category_id',
                                  :number => '#product_product_category_number'}  %>
         <span style="font-weight: bold; color: #013DA4;">编号</span>
         <%= f.text_field :product_category_number, :class => "short_input_text"%>
         <input type="button" id="check_product_category_number" value="验证" />
       <% end %>
       <% content_for :ready do %>
          jQuery("#check_product_category_number").click(function(){
            jQuery.ajax({
                       type: "get",
                       url: "/admin/product_categories/check",
                       data: { number: jQuery("#product_product_category_number").val() },
                       dataType: "json",
                       success: function(result) {
                         if(result == "failure"){
                           alert("编号不存在!");
                         }else{
                           jQuery("#product_product_category_id").val(result.id);
                           jQuery("#product_product_category_number").val(result.number);
                           jQuery("#product_product_category_name").val(result.name);
                         }
                       },
                   });
          });
       <% end %>
       <%= f.input :product_category_id, :as => :hidden %>
       <%= f.input :specification %>
       <%= f.input :delivery_descprition %>
       <%= f.input :cost_aft_tax %>
       <%= f.input :size %>
       <%= f.input :can_on_behalf do
        f.collection_radio :can_on_behalf, [['false', '否'], ['true', '是']],
                           :first, :second, :checked => 'false'
       end %>
       <%= f.input :supplier_name do %>
         <%= f.autocomplete_field :supplier_name, autocomplete_supplier_name_admin_suppliers_path,
                                  :id_element => '#product_supplier_id'  %>
       <% end %>
       <%= f.input :supplier_id, :as => :hidden %>
       <%= f.input :have_shelf_life do
         f.collection_radio :have_shelf_life, [['1', '无保质期'], ['2', '按生产日期'],['3','按失效日期']],
                            :first, :second, :checked => '1' end%>
       <%= f.input :have_wanrranty do
          f.collection_radio :have_wanrranty, [['false','否'],['true','是']],
                             :first, :second, :checked => 'false' end %>
       <%= f.input :wanrranty_description, :input_html => {:rows => 1, :cols => 25} %>
       <%= f.input :appendant %>
       <%= f.input :is_assembling_required do
        f.collection_radio :is_assembling_required, [['false', '否'], ['true', '是']],
                           :first, :second, :checked => 'false' end%>
       <%= f.input :assembling_fee_aft_tax %>
       <%= f.input :maintenance_cost_bef_tax %>
       <%= f.input :is_installation_required do
        f.collection_radio :is_installation_required, [['false', '否'], ['true', '是']],
                           :first, :second, :checked => 'false' end%>
       <%= f.input :insatllation_cost_aft_tax %>
    </div>
    <div class="clear"></div>
  </div>

  <div class="attributes">
    <span class="red">*</span><%= f.label '仓库' %>
    <%=raw product_stores(@product)  %>

    <%= f.label :description %><br />

    <%= f.cktext_area :description, :toolbar=>'Full', :width=>'auto', :height=>'200px' %>
  </div>

  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
